<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./main.css">
    <title>Facebook Form</title>
  </head>
  <body>
    <div class="status-container">
      <div class="status">
        <div class="status-menu-left">
          <i class="fa fa-pencil fa-2x pencil"></i>
          <i class="fa fa-microphone fa-2x microphone"></i>
          <i class="fa fa-camera fa-2x">
            <input type="file" id="input" multiple onchange="handleFiles(this.files)">
          </i>
        </div>
        <input class="user-input" placeholder="What's on your mind right now?" />
        <div class="status-menu-bottom">
          <div class="status-add">
            <i class="fa fa-map-marker fa-2x"></i>
            <i class="fa fa-smile-o fa-2x"></i>
            <i class="fa fa-user fa-2x"></i>
            <i class="fa fa-camera fa-2x"></i>
          </div>
          <div class="status-dropdown">
            <button id="status-dropdown-selected" class="status-dropdown-btn" onclick="showDropdown()"><i class="fa fa-globe fa-fw"></i>&nbsp; Public &nbsp;<i class="fa fa-caret-down"></i></button>
            <ul id="drop" class="dropdown-content" onclick="selectAudience()">
              <li id="public" class="public-li" href="#">
                <i id="public" class="fa fa-check active-check"></i><i class="fa fa-globe fa-fw"></i>&nbsp; Public<br><span class="description">Anyone on or off Facebook</span>
              </li>
              <li id="friends" class="friends-li" href="#">
                <i id="friends" class="fa fa-users fa-fw"></i>&nbsp; Friends<br><span class="description">Your friends on Facebook</span>
              </li>
              <li id="only-me" class="only-me-li" href="#">
                <i id="only-me" class="fa fa-lock fa-fw"></i>&nbsp; Only Me<br><span class="description">Only Me</span>
              </li>
            </ul>
          </div>
          <button class="status-post">Post</button>
        </div>
      </div>
    </div>

    <script>
      function showDropdown(){
        document.getElementById("drop").classList.toggle("show");
      }

      function selectAudience(){
        if(event.target.id === "public"){
          document.getElementById("status-dropdown-selected").innerHTML = "<i class=\"fa fa-globe fa-fw\"></i>&nbsp; Public &nbsp;<i class=\"fa fa-caret-down\"></i>"

          removeCheck();

          document.getElementsByClassName("public-li")[0].innerHTML = "<i id=\"public\" class=\"fa fa-check active-check\"></i><i class=\"fa fa-globe fa-fw\"></i>&nbsp; Public<br><span class=\"description\">Anyone on or off Facebook</span>"
        }
        if(event.target.id === "friends"){
          document.getElementById("status-dropdown-selected").innerHTML = "<i class=\"fa fa-users fa-fw\"></i>&nbsp; Friends &nbsp;<i class=\"fa fa-caret-down\"></i>"

          removeCheck();

          document.getElementsByClassName("friends-li")[0].innerHTML = "<i id=\"public\" class=\"fa fa-check active-check\"></i><i class=\"fa fa-users fa-fw\"></i>&nbsp; Friends<br><span class=\"description\">Your friends on Facebook</span>"
        }
        if(event.target.id === "only-me"){
          document.getElementById("status-dropdown-selected").innerHTML = "<i class=\"fa fa-lock fa-fw\"></i>&nbsp; Only Me &nbsp;<i class=\"fa fa-caret-down\"></i>"

          removeCheck();

          document.getElementsByClassName("only-me-li")[0].innerHTML = "<i id=\"public\" class=\"fa fa-check active-check\"></i><i class=\"fa fa-lock fa-fw\"></i>&nbsp; Only Me<br><span class=\"description\">Only Me</span>"
        }
      }

      function removeCheck(){
        var dropdowns = document.getElementsByClassName("dropdown-content")[0].children;

        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var current = dropdowns[i];
          if(current.children[0].classList.contains('active-check')){
            current.removeChild(current.children[0]);
          }
        }
      }

      var inputElement = document.getElementById("input");

      inputElement.addEventListener("change", handleFiles, false);

      function handleFiles() {
        var fileList = this.files;
      }

      window.onclick = function(event) {
        if (!event.target.matches('.status-dropdown-btn')) {

          var dropdowns = document.getElementsByClassName("dropdown-content");
          var i;
          for (i = 0; i < dropdowns.length; i++) {
            var openDropdown = dropdowns[i];
            if(openDropdown.classList.contains('show')){
              openDropdown.classList.remove('show');
            }
          }
        }
      }
    </script>
  </body>
</html>
